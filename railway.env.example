# Railway environment template for Lighter Trend Trader
# Copy these into Railway → Variables (or `env` tab) and fill in the blanks.

# ── Core ────────────────────────────────────────────────────────────────────
LOG_LEVEL=INFO
LIGHTER_CONFIG=/app/config.yaml

# ── WebSocket (required for real-time prices) ─────────────────────────────
WS_URL=wss://mainnet.zklighter.elliot.ai/stream
WS_AUTH_TOKEN=  # Optional: WebSocket auth token

# ── Trading credentials (required for live orders) ─────────────────────────
# ⚠️ IMPORTANT: Use a DIFFERENT account than your market maker bot!
# See ACCOUNT_SETUP.md for details
API_BASE_URL=https://mainnet.zklighter.elliot.ai
API_KEY_PRIVATE_KEY=0x<your_api_key_private_key>  # Shared default (used if per-strategy not set)
ACCOUNT_INDEX=<your_account_index>  # Shared default (used if per-strategy not set)
API_KEY_INDEX=<your_api_key_index>  # Shared default (used if per-strategy not set)
MAX_API_KEY_INDEX=
NONCE_MANAGEMENT=OPTIMISTIC

# ── Per-Strategy Account Configuration (OPTIONAL - for account separation) ──
# If not set, strategies will use shared account above (backward compatible)
# To separate accounts, set these for each strategy:

# RSI + BB Strategy Account (optional)
# MEAN_REVERSION_ACCOUNT_INDEX=<rsi_bb_account_index>
# MEAN_REVERSION_API_KEY_INDEX=<rsi_bb_api_key_index>
# MEAN_REVERSION_API_KEY_PRIVATE_KEY=0x<rsi_bb_api_key_private_key>

# Renko + AO Strategy Account (optional)
# RENKO_AO_ACCOUNT_INDEX=<renko_ao_account_index>
# RENKO_AO_API_KEY_INDEX=<renko_ao_api_key_index>
# RENKO_AO_API_KEY_PRIVATE_KEY=0x<renko_ao_api_key_private_key>

# Breakout Strategy Account (optional)
# BREAKOUT_ACCOUNT_INDEX=281474976639273  # Breakout dedicated account
# BREAKOUT_API_KEY_INDEX=17
# BREAKOUT_API_KEY_PRIVATE_KEY=0x<breakout_api_key_private_key>

# ── RSI + BB Strategy (Trend Following) ────────────────────────────────────
MEAN_REVERSION_ENABLED=true
MEAN_REVERSION_DRY_RUN=false  # Set to false for live trading (TINY SIZE TESTING)
MEAN_REVERSION_MARKET=market:2
MEAN_REVERSION_CANDLE_INTERVAL_SECONDS=15  # 10s, 15s, 30s, 60s (smaller = faster iteration)

# Position sizes (TINY for live testing)
MEAN_REVERSION_MAX_POSITION_SIZE=0.005  # Maximum SOL per trade (TINY)
MEAN_REVERSION_MIN_POSITION_SIZE=0.001  # Minimum SOL per trade (TINY)

# Indicator parameters (optional - defaults in config.yaml)
# MEAN_REVERSION_EMA_FAST_PERIOD=8
# MEAN_REVERSION_EMA_SLOW_PERIOD=21
# MEAN_REVERSION_BB_PERIOD=20
# MEAN_REVERSION_BB_STD=2.0
# MEAN_REVERSION_RSI_PERIOD=14

# Entry filters (optional)
# MEAN_REVERSION_RSI_OVERSOLD=30.0
# MEAN_REVERSION_RSI_OVERBOUGHT=70.0
# MEAN_REVERSION_VOLUME_MULTIPLIER=1.2
# MEAN_REVERSION_VOL_MIN_BPS=4.0
# MEAN_REVERSION_VOL_MAX_BPS=25.0

# Risk management (optional - defaults in config.yaml)
# MEAN_REVERSION_TAKE_PROFIT_BPS=8.0
# MEAN_REVERSION_STOP_LOSS_BPS=4.0
# MEAN_REVERSION_MAX_HOLD_MINUTES=3

# ── Renko + AO Strategy (Divergence) ───────────────────────────────────────
RENKO_AO_ENABLED=true
RENKO_AO_DRY_RUN=true  # Keep in dry-run until it starts trading
RENKO_AO_MARKET=market:2

# ── PnL Database (Persistent Storage) ──────────────────────────────────────
# Database path: Use /data for Railway persistent volume, or local path for fallback
PNL_DB_PATH=/data/pnl_trades.db  # Set to /data/pnl_trades.db for Railway volume

